#ifdef GL_ES
precision lowp float;
#endif

//////////////////////////////////////////////////////////////////////////////////////////////////
#if defined(VERTEX_SHADER)
//////////////////////////////////////////////////////////////////////////////////////////////////

layout (location = 0) in vec4 in_data;

out vec2 frag_uv;

uniform mat4 u_space_matrix;
uniform mat4 u_model;

void main(void) {
  gl_Position = u_space_matrix * u_model * vec4(in_data.xy, 0.f, 1.f);
  frag_uv     = in_data.zw;
}

//////////////////////////////////////////////////////////////////////////////////////////////////
#elif defined(FRAGMENT_SHADER)
//////////////////////////////////////////////////////////////////////////////////////////////////

in vec2 frag_uv;

out vec4 out_frag_color;

uniform vec4      u_taint;
uniform sampler2D u_tex0;
uniform int       u_use_texture;

void main(void) {
  vec4 mapped_tex;

  if (u_use_texture == 1) {
    mapped_tex = texture(u_tex0, frag_uv);
  } else {
    mapped_tex = vec4(1.0);
  }

  out_frag_color  = mapped_tex * u_taint;
}

//////////////////////////////////////////////////////////////////////////////////////////////////
#endif
//////////////////////////////////////////////////////////////////////////////////////////////////
// vim: sw=2 ft=glsl
